(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{28:function(e,t,a){e.exports=a(62)},33:function(e,t,a){},35:function(e,t,a){},36:function(e,t,a){},37:function(e,t,a){},38:function(e,t,a){},39:function(e,t,a){},62:function(e,t,a){"use strict";a.r(t);var n=a(0),o=a.n(n),c=a(18),r=a.n(c),s=(a(33),a(2)),i=a.n(s),l=a(19),u=a(20),m=a(26),h=a(21),d=a(27),p=(a(35),a(4)),g=(a(36),function(){return o.a.createElement("h1",{className:"err-msg"},"Something goes wrong")}),v=(a(37),function(e){if(e.err)return o.a.createElement(g,null);if(!e.photoData)return o.a.createElement(o.a.Fragment,null);var t,a,n=e.photoData,c=e.activeImgIndex;0===c?t=!0:c===n.length-1&&(a=!0);var r=Object(p.a)(e.photoData).map((function(t,a){return o.a.createElement("img",{key:t.id,src:t.urls.small,alt:"".concat(t.alt_description,"_thumbnails"),className:"panel__thumbnails ".concat(a===c?"active":""),onClick:function(){return e.handlePhotoChange(a)}})})),s=Object(p.a)(e.photoData).map((function(e,t){return o.a.createElement("img",{key:t,className:"carousel__img ".concat(t===c?"active":""),src:e.urls.regular,alt:e.alt_description})}));return o.a.createElement("div",null,o.a.createElement("div",{className:"panel"},o.a.createElement("button",{"data-testid":"previous-img-button",className:"".concat(t?"button__hide":"button__arrow "),onClick:function(){return e.handlePhotoChange(c-1)}},"\u25c0"),o.a.createElement("div",null,r),o.a.createElement("button",{"data-testid":"next-img-button",className:"".concat(a?"button__hide":"button__arrow"),onClick:function(){return e.handlePhotoChange(c+1)}},"\u25b6")),o.a.createElement("div",{className:"carousel"},o.a.createElement("div",{className:"carousel__slide",style:{transform:"translateX(-".concat(c/n.length*100,"%)")}},s)))}),f=(a(38),a(39),function(e){var t,a,n=e.activeImgIndex,c=e.photoData;return 0===n?t=!0:n===c.length-1&&(a=!0),o.a.createElement("div",{className:"mosaic__btn-wrapper"},o.a.createElement("button",{className:"mosaic__btn close",onClick:e.closePopUp},"\u2715"),o.a.createElement("button",{className:"mosaic__btn left ".concat(t?"disabled":""),disabled:t,onClick:function(){return e.handlePhotoChange(n-1)}},"\u2190"),o.a.createElement("button",{className:"mosaic__btn right ".concat(a?"disabled":""),disabled:a,onClick:function(){return e.handlePhotoChange(n+1)}},"\u2192"))}),b=function(e){if(e.err)return o.a.createElement(g,null);if(!e.photoData)return o.a.createElement(o.a.Fragment,null);var t=e.photoData,a=e.activeImgIndex,n=e.isPopUp,c=Object(p.a)(t).map((function(t,c){var r=t.urls.regular;return o.a.createElement("div",{key:t.id,className:"mosaic__items mosaic__items-".concat(c+1," ").concat(c===a&&n?"active":""),style:{backgroundImage:"url(".concat(r,")")},onClick:function(){return e.handlePhotoChange(c)}})}));return o.a.createElement(o.a.Fragment,null,o.a.createElement("div",{className:"mosaic"},c,n?o.a.createElement(f,{photoData:t,activeImgIndex:e.activeImgIndex,handlePhotoChange:e.handlePhotoChange,isPopUp:e.isPopUp,closePopUp:e.closePopUp}):""))},_=a(22),E=a.n(_),P=function(){var e;return i.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,i.a.awrap(E.a.get("/api/photos"));case 2:return e=t.sent,t.abrupt("return",e.data);case 4:case"end":return t.stop()}}))},C=function(e){function t(){var e,a;Object(l.a)(this,t);for(var n=arguments.length,o=new Array(n),c=0;c<n;c++)o[c]=arguments[c];return(a=Object(m.a)(this,(e=Object(h.a)(t)).call.apply(e,[this].concat(o)))).state={photoData:"",activeImgIndex:0,mode:"mosaic",isPopUp:!1},a.fetchData=function(){var e;return i.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,i.a.awrap(P());case 3:if(!(e=t.sent).err){t.next=7;break}return console.log("fetch data err from backend:",e.err),t.abrupt("return",a.setState({err:e.err}));case 7:a.setState({photoData:e.results}),t.next=14;break;case 10:t.prev=10,t.t0=t.catch(0),console.log("fetch data err from front-end:",t.t0),a.setState({err:t.t0});case 14:case"end":return t.stop()}}),null,null,[[0,10]])},a.handlePhotoChange=function(e){a.setState({activeImgIndex:e}),"mosaic"===a.state.mode&&a.setState({isPopUp:!0})},a.handleModeChange=function(e){a.setState({mode:e}),"mosaic"===a.state.mode&&a.setState({isPopUp:!1})},a.closePopUp=function(){a.setState({isPopUp:!1,activeImgIndex:0})},a}return Object(d.a)(t,e),Object(u.a)(t,[{key:"componentDidMount",value:function(){this.fetchData()}},{key:"render",value:function(){var e=this;return o.a.createElement("div",{className:"App"},o.a.createElement("div",{className:"nav"},o.a.createElement("button",{className:"nav__modeBtn ".concat("mosaic"===this.state.mode?"active":""),onClick:function(){return e.handleModeChange("mosaic")}},"mosaic"),o.a.createElement("button",{className:"nav__modeBtn ".concat("carousel"===this.state.mode?"active":""),onClick:function(){return e.handleModeChange("carousel")}},"carousel")),"mosaic"===this.state.mode&&o.a.createElement(b,{photoData:this.state.photoData,activeImgIndex:this.state.activeImgIndex,handlePhotoChange:this.handlePhotoChange,err:this.state.err,isPopUp:this.state.isPopUp,closePopUp:this.closePopUp}),"carousel"===this.state.mode&&o.a.createElement(v,{photoData:this.state.photoData,activeImgIndex:this.state.activeImgIndex,handlePhotoChange:this.handlePhotoChange,err:this.state.err}))}}]),t}(o.a.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var I=a(25);r.a.render(o.a.createElement(I.a,null,o.a.createElement(C,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[28,1,2]]]);
//# sourceMappingURL=main.25b9697a.chunk.js.map